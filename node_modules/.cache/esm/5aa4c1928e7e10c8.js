let fs,exitCodes;_8e7‍.x([["testPath",()=>testPath],["testPathFile",()=>testPathFile],["default",()=>_8e7‍.o]]);_8e7‍.w("fs",[["default",["fs"],function(v){fs=v}]]);_8e7‍.w("./Exceptions/exitCodes",[["default",["exitCodes"],function(v){exitCodes=v}]]);/**
 * @file testPath tests the permissions of the path
 * and if we have read and write permissions, if not it stops
 * the program and shows an output of the error.
 *
 * @author Jose Gracia Berenguer
 * @since 1.0.0
 * @link https://github.com/Josee9988/Implode-CSS
 */





/**
 * Summary: tesPath analyzes a path and checks if it has read, write and or
 * if it exists, if not it stops the process and shows an error to the user.
 *
 * @async
 * @param {string} startPath path to test.
 * @return {void}
 */
       async function testPath(startPath) {
    // Directory exists
    if (!fs.existsSync(startPath)) {
        exitCodes(401, startPath);
    }

    // Directory read permissions
    try {
        fs.accessSync(startPath, fs.constants.R_OK);
    } catch (err) {
        exitCodes(402, startPath);
    }

    // File read permissions
    try {
        fs.accessSync(startPath, fs.constants.W_OK);
    } catch (err) {
        exitCodes(403, startPath);
    }
}


/**
 * Summary: tesPath analyzes a path and checks if it has read, write and or
 * if it exists, if not it stops the process and shows an error to the user.
 *
 * @async
 * @param {string} startPath path to test.
 * @return {void}
 */
       async function testPathFile(startPath) {
    // File exists
    if (!fs.existsSync(startPath)) {
        exitCodes(401, startPath);
    }

    // Directory read permissions
    if (!fs.readFileSync(startPath)) {
        exitCodes(402, startPath);
    }

    // Directory write permissions
    fs.access(startPath, fs.W_OK, () => {
        exitCodes(403, startPath);
    });
}

_8e7‍.d(testPath);
